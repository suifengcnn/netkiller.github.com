<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>33.11. example</title><link rel="stylesheet" type="text/css" href="..//docbook.css" /><meta name="generator" content="DocBook XSL Stylesheets V1.79.1" /><meta name="keywords" content="Cisco, H3C, Juniper, F5 BIG-IP, Array, Dell, IBM, HP, , " /><link rel="home" href="../index.html" title="Netkiller Network 手札" /><link rel="up" href="array.cli.html" title="第 33 章 Array CLI" /><link rel="prev" href="webui.html" title="33.10. webui" /><link rel="next" href="array.webui.html" title="第 34 章 Array WebUI" /></head><body><a xmlns="" href="http://www.netkiller.cn/">Home</a> |
		<a xmlns="" href="http://netkiller.github.io/">简体中文</a> |
	    <a xmlns="" href="http://netkiller.sourceforge.net/">繁体中文</a> |
	    <a xmlns="" href="/journal/index.html">杂文</a> |
	    <a xmlns="" href="//www.netkiller.cn/home/donations.html">打赏(Donations)</a> |
	    <a xmlns="" href="http://netkiller-github-com.iteye.com/">ITEYE 博客</a> |
	    <a xmlns="" href="http://my.oschina.net/neochen/">OSChina 博客</a> |
	    <a xmlns="" href="https://www.facebook.com/bg7nyt">Facebook</a> |
	    <a xmlns="" href="http://cn.linkedin.com/in/netkiller/">Linkedin</a> |
	    <a xmlns="" href="https://zhuanlan.zhihu.com/netkiller">知乎专栏</a> |
	    <a xmlns="" href="/search.html">Search</a> |
		<a xmlns="" href="mailto:netkiller@msn.com">Email</a><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">33.11. example</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="webui.html">上一页</a> </td><th width="60%" align="center">第 33 章 Array CLI</th><td width="20%" align="right"> <a accesskey="n" href="array.webui.html">下一页</a></td></tr></table><hr /></div><table xmlns=""><tr><td><iframe src="http://ghbtns.com/github-btn.html?user=netkiller&amp;repo=netkiller.github.io&amp;type=watch&amp;count=true&amp;size=large" height="30" width="170" frameborder="0" scrolling="0" style="width:170px; height: 30px;" allowTransparency="true"></iframe></td><td><iframe src="http://ghbtns.com/github-btn.html?user=netkiller&amp;repo=netkiller.github.io&amp;type=fork&amp;count=true&amp;size=large" height="30" width="170" frameborder="0" scrolling="0" style="width:170px; height: 30px;" allowTransparency="true"></iframe></td><td><iframe src="http://ghbtns.com/github-btn.html?user=netkiller&amp;type=follow&amp;count=true&amp;size=large" height="30" width="240" frameborder="0" scrolling="0" style="width:240px; height: 30px;" allowTransparency="true"></iframe></td></tr></table><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="example"></a>33.11. example</h2></div></div></div>
		
		<pre class="screen">
		
#command timeout configuration
system command timeout 0

#admin aaa configuration
admin aaa off
admin aaa method RADIUS

#hostname configuration
hostname "AN"
config timeout 180

#switch configuration
switch weblink "http://10.90.90.90:80"

#system timezone configuration
system timezone "GMT"

#rts configuration
ip rts off
ip rts expire 600

#interface mtu
interface mtu port1 1500
interface mtu port2 1500
interface mtu port3 1500
interface mtu port4 1500
interface mtu port5 1500
interface mtu port6 1500

#interface configuration
interface name "port1" "port1"
interface name "port2" "port2"
interface name "port3" "port3"
interface name "port4" "port4"
interface name "port5" "port5"
interface name "port6" "port6"
interface speed "port1" auto
interface speed "port2" auto
interface speed "port3" auto
interface speed "port4" auto
interface speed "port5" auto
interface speed "port6" auto

#bond configuration
bond interface "bond1" "port1" 1
bond interface "bond1" "port2" 1
ip address "bond1" 172.16.0.9 255.255.255.0

#ip configuration

#ip host configuration

#support ip configuration

#ssh configuration
ssh on

#vlan configuration

#mnet configuration

#extended routing policies
ip ipflow off
ip ipflow priority 1000
ip ipflow expire 60


#route configuration
ip route default 172.16.0.254

#ip link configuration

#port redundancy configuration

#ip statistic configuration
ip statistic off

#link load balancing configuration

#link load balancing DNS configuration

#smart DNS configuration
sdns off
sdns interval heartbeat 2
sdns interval report 30
sdns dps interval send 120
sdns dps interval query 1200
sdns dps history 9000
sdns dps expire 1
sdns dps method rtt
sdns dps off
sdns dps master off
#NoCheck IP Address
sdns snmp interval 300
sdns snmp version "v2c"
sdns statistics off all
sdns statistics off localdns
sdns persistent timeout 3600
sdns recursion off

#access list and webwall configuration

#synconfig configuration

#synconfig sdns configuration

#cluster configuration
cluster virtual ffo off
cluster virtual ffo interface carrier loss timeout 1000
cluster virtual arp interval 60
cluster virtual discreet off

#nameserver configuration

#enable password
passwd enable "XXXXXXXXXsaFLGt/QKS6yw"

#user configuration
user "array"       "XXXXXXXXX9WfFLfH5KTFBg"

#webui configuration
webui port 8888
webui on

#webui language configuration
webui language en

#xmlrpc configuration
xmlrpc off
xmlrpc port 9999

#snmp configuration
snmp community "public"
snmp contact ""
snmp location ""
no snmp enable traps
snmp ipcontrol off
snmp off

#fastlog configuration
log facility "local0"
log level "info"
log off
log source port 514
log option levelinfo off
log option logid off
log http squid

#ntp configuration

#system mail configuration
system mail from "%h&lt;alert@log.domain&gt;"
system mail hostname "%l.alert_pseudo_domain"

#system mail relay configuration
system mail relay off

#tune configuration
system tune hwcksum on
system tune tcpidle 300
system tune tcp retransmit timeout 1000
system tune tcp retransmit dupacks 3
system tune tcp delack count 4
system tune tcp delack timeout 1000
system tune tcp slowstart on
system tune tcp retransmit policy newreno
system tune tcp syntimeout 60
system tune tcp zwdefend off
system tune tcp pktdropopt 2
system tune udp pktdropopt 0
system tune defraglimit 0
system tune ip randomid off

#dump flag when panic
system dump on

#system interactive configuration
system interactive off

#port forwarding configuration
fwd mode transparent

#sytem fast forwarding configuration
slb directfwd off
slb directfwd syncache off

#slb configuration
slb mode ircookie plainname
slb mode icookie always
slb real http "http-nginx-0" 10.0.0.68 80 100000 http 3 3
slb real http "http-nginx-1" 10.0.0.69 80 100000 http 3 3
slb real http "http-user-1" 10.0.0.24 80 100000 http 3 3
slb real http "http-user-2" 10.0.0.25 80 100000 http 3 3
slb real http "http-user-3" 10.0.0.26 80 100000 http 3 3
slb real http "http0" 172.16.0.5 80 100000 http 3 3
slb real http "http1" 172.16.0.6 80 100000 http 3 3
slb group method "gn-nginx-0" rr
slb group method "gn-user-0" rr
slb group method "gn0" rr
slb group member "gn-nginx-0" "http-nginx-0" 1 0
slb group member "gn-nginx-0" "http-nginx-1" 1 0
slb group member "gn-user-0" "http-user-1" 1 0
slb group member "gn-user-0" "http-user-2" 1 0
slb group member "gn-user-0" "http-user-3" 1 0
slb group member "gn0" "http0" 1 0
slb group member "gn0" "http1" 1 0
slb virtual http "test-http" 172.16.0.10 80 arp 0
slb virtual http "vs-nginx-http" 172.16.0.63 80 arp 0
slb virtual http "vs-user-http" 172.16.0.61 80 arp 0
slb virtual health off
#default policy order:
#                 qos-clientport 1
#                 qos-network 2
#                 pu 3
#                 rc 4
#                 ic 5
#                 pc 6
#                 qos-cookie 7
#                 qos-hostname 8
#                 qos-url 9
#                 regex 10
#                 header 11
#                 hu 12
slb policy default "test-http" "gn0"
slb policy default "vs-nginx-http" "gn-nginx-0"
slb policy default "vs-user-http" "gn-user-0"

#proxy cache configuration
cache off
cache on test-http
cache on vs-nginx-http
cache on vs-user-http
cache settings expire "82800"
cache settings objectsize 5120

#cache channel statistic configuration

#http modifyheader configuration
http modifyheader http10 off

#filter configuration
filter vip "global"
filter mode active "global"
filter length url 1024 "global"
filter length queryvariable 128 "global"
filter length querydata 512 "global"
filter length query 1024 "global"
filter length request 10000 "global"
filter length header 1024 "global"
filter url keyword default permit "global"
#filter request controlchar configuration
#It works only when filter vip setting is configured.
filter request controlchar on

#http error page configuration

#http compression configuration
http compression on
http compression on "test-http"
http compression on "vs-nginx-http"
http compression on "vs-user-http"

#http configuration
http xforwardedfor off
http xforwardedfor on "test-http" header "X-Forwarded-For"
http xforwardedfor on "vs-nginx-http" header "X-Forwarded-For"
http xforwardedfor on "vs-user-http" header "X-Forwarded-For"
http owa off
http xclientcert header "X-Client-Cert: "
http serverpersist on
http serverconnreuse on
http buffer nomsglen on
http mask server off
http mask via off
http rewrite response cookie secure on
http rewrite response cookie secure icookie on
http shuntreset off
system mode reverse

#SIP configuration

#sip multiregistration configuration
sip multireg off

#nat configuration

#health check configuration
health interval 5 5
health server "http0" 0 0
health server "http1" 0 0
health on
health failover disable
health failover retries 3
health relation http0 and
health relation http1 and
health relation http-nginx-0 and
health relation http-nginx-1 and
health relation http-user-1 and
health relation http-user-2 and
health relation http-user-3 and

#ssl configuration

#ssl configuration

#RIP routing configuration

#Bypass configuration

#graph configuration

#slb dns cache configuration
dns cache off
dns cache expire 60 3600

#cache filter configuration
cache filter off

#Qos configuration

#statmon configuration
statmon off

#rip configuration
rip off

#ospf configuration
ospf off

#debug monitor configuration
debug monitor on

#no default user configuration
#
		
		</pre>
	</div><div xmlns="" id="disqus_thread"></div><script xmlns="">

var disqus_config = function () {
this.page.url = "http://www.netkiller.cn";  // Replace PAGE_URL with your page's canonical URL variable
this.page.identifier = 'netkiller'; // Replace PAGE_IDENTIFIER with your page's unique identifier variable
};

(function() { // DON'T EDIT BELOW THIS LINE
var d = document, s = d.createElement('script');
s.src = '//netkiller.disqus.com/embed.js';
s.setAttribute('data-timestamp', +new Date());
(d.head || d.body).appendChild(s);
})();
</script><noscript xmlns="">Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript><br xmlns="" /><script xmlns="" type="text/javascript" id="clustrmaps" src="//cdn.clustrmaps.com/map_v2.js?u=r5HG&amp;d=9mi5r_kkDC8uxG8HuY3p4-2qgeeVypAK9vMD-2P6BYM"></script><div class="navfooter"><hr /><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="webui.html">上一页</a> </td><td width="20%" align="center"><a accesskey="u" href="array.cli.html">上一级</a></td><td width="40%" align="right"> <a accesskey="n" href="array.webui.html">下一页</a></td></tr><tr><td width="40%" align="left" valign="top">33.10. webui </td><td width="20%" align="center"><a accesskey="h" href="../index.html">起始页</a></td><td width="40%" align="right" valign="top"> 第 34 章 Array WebUI</td></tr></table></div><script xmlns="">
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-11694057-1', 'auto');
  ga('send', 'pageview');

</script><script xmlns="" async="async">
var _hmt = _hmt || [];
(function() {
  var hm = document.createElement("script");
  hm.src = "https://hm.baidu.com/hm.js?93967759a51cda79e49bf4e34d0b0f2c";
  var s = document.getElementsByTagName("script")[0]; 
  s.parentNode.insertBefore(hm, s);
})();
</script><script xmlns="" async="async">
(function(){
    var bp = document.createElement('script');
    var curProtocol = window.location.protocol.split(':')[0];
    if (curProtocol === 'https') {
        bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';        
    }
    else {
        bp.src = 'http://push.zhanzhang.baidu.com/push.js';
    }
    var s = document.getElementsByTagName("script")[0];
    s.parentNode.insertBefore(bp, s);
})();
</script><script xmlns="" type="text/javascript" src="/js/q.js" async="async"></script></body></html>