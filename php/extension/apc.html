<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>5.2. php-apc - APC (Alternative PHP Cache) module for PHP 5</title><link rel="stylesheet" type="text/css" href="..//docbook.css" /><meta name="generator" content="DocBook XSL Stylesheets V1.79.1" /><meta name="keywords" content="php, pear, pecl, phar" /><link rel="home" href="../index.html" title="Netkiller PHP 手札" /><link rel="up" href="index.html" title="第 5 章 PECL :: The PHP Extension Community Library" /><link rel="prev" href="index.html" title="第 5 章 PECL :: The PHP Extension Community Library" /><link rel="next" href="gd.html" title="5.3. php5-gd - GD module for php5" /></head><body><a xmlns="" href="//www.netkiller.cn/">Home</a> |
		<a xmlns="" href="//netkiller.github.io/">简体中文</a> |
	    <a xmlns="" href="http://netkiller.sourceforge.net/">繁体中文</a> |
	    <a xmlns="" href="/journal/index.html">杂文</a> |
	    <a xmlns="" href="//www.netkiller.cn/home/donations.html">打赏(Donations)</a> |
	    <a xmlns="" href="http://netkiller-github-com.iteye.com/">ITEYE 博客</a> |
	    <a xmlns="" href="http://my.oschina.net/neochen/">OSChina 博客</a> |
	    <a xmlns="" href="https://www.facebook.com/bg7nyt">Facebook</a> |
	    <a xmlns="" href="http://cn.linkedin.com/in/netkiller/">Linkedin</a> |
	    <a xmlns="" href="https://zhuanlan.zhihu.com/netkiller">知乎专栏</a> |
	    <a xmlns="" href="/search.html">Search</a> |
		<a xmlns="" href="mailto:netkiller@msn.com">Email</a><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">5.2. php-apc - APC (Alternative PHP Cache) module for PHP 5</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="index.html">上一页</a> </td><th width="60%" align="center">第 5 章 PECL :: The PHP Extension Community Library</th><td width="20%" align="right"> <a accesskey="n" href="gd.html">下一页</a></td></tr></table><hr /></div><table xmlns=""><tr><td><iframe src="//ghbtns.com/github-btn.html?user=netkiller&amp;repo=netkiller.github.io&amp;type=watch&amp;count=true&amp;size=large" height="30" width="170" frameborder="0" scrolling="0" style="width:170px; height: 30px;" allowTransparency="true"></iframe></td><td><iframe src="//ghbtns.com/github-btn.html?user=netkiller&amp;repo=netkiller.github.io&amp;type=fork&amp;count=true&amp;size=large" height="30" width="170" frameborder="0" scrolling="0" style="width:170px; height: 30px;" allowTransparency="true"></iframe></td><td><iframe src="//ghbtns.com/github-btn.html?user=netkiller&amp;type=follow&amp;count=true&amp;size=large" height="30" width="240" frameborder="0" scrolling="0" style="width:240px; height: 30px;" allowTransparency="true"></iframe></td></tr></table><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="apc"></a>5.2. php-apc - APC (Alternative PHP Cache) module for PHP 5</h2></div></div></div>
		
		<pre class="screen">
		
$ apt-cache search php-apc
php-apc - APC (Alternative PHP Cache) module for PHP 5

$ sudo apt-get install php-apc

echo "apc.enabled = 1
apc.shm_size = 128
apc.shm_segments=1
apc.write_lock = 1
apc.rfc1867 = On
apc.ttl=7200
apc.user_ttl=7200
apc.num_files_hint=1024
apc.mmap_file_mask=/tmp/apc.XXXXXX
apc.enable_cli=1
apc.slam_defense = Off
" &gt;&gt; /etc/php5/conf.d/apc.ini
		
		</pre>
		<pre class="screen">
# php -r 'phpinfo();' | grep apc
PHP Warning:  phpinfo(): It is not safe to rely on the system's timezone settings. You are *required* to use the date.timezone setting or the date_default_timezone_set() function. In case you used any of those methods and you are still getting this warning, you most likely misspelled the timezone identifier. We selected the timezone 'UTC' for now, but please set date.timezone to select your timezone. in Command line code on line 1
Additional .ini files parsed =&gt; /srv/php-5.4.15/etc/conf.d/apc.ini
apc
apc.cache_by_default =&gt; On =&gt; On
apc.canonicalize =&gt; On =&gt; On
apc.coredump_unmap =&gt; Off =&gt; Off
apc.enable_cli =&gt; Off =&gt; Off
apc.enabled =&gt; On =&gt; On
apc.file_md5 =&gt; Off =&gt; Off
apc.file_update_protection =&gt; 2 =&gt; 2
apc.filters =&gt; no value =&gt; no value
apc.gc_ttl =&gt; 3600 =&gt; 3600
apc.include_once_override =&gt; Off =&gt; Off
apc.lazy_classes =&gt; Off =&gt; Off
apc.lazy_functions =&gt; Off =&gt; Off
apc.max_file_size =&gt; 1M =&gt; 1M
apc.mmap_file_mask =&gt; no value =&gt; no value
apc.num_files_hint =&gt; 1000 =&gt; 1000
apc.preload_path =&gt; no value =&gt; no value
apc.report_autofilter =&gt; Off =&gt; Off
apc.rfc1867 =&gt; Off =&gt; Off
apc.rfc1867_freq =&gt; 0 =&gt; 0
apc.rfc1867_name =&gt; APC_UPLOAD_PROGRESS =&gt; APC_UPLOAD_PROGRESS
apc.rfc1867_prefix =&gt; upload_ =&gt; upload_
apc.rfc1867_ttl =&gt; 3600 =&gt; 3600
apc.serializer =&gt; default =&gt; default
apc.shm_segments =&gt; 1 =&gt; 1
apc.shm_size =&gt; 32M =&gt; 32M
apc.shm_strings_buffer =&gt; 4M =&gt; 4M
apc.slam_defense =&gt; On =&gt; On
apc.stat =&gt; On =&gt; On
apc.stat_ctime =&gt; Off =&gt; Off
apc.ttl =&gt; 0 =&gt; 0
apc.use_request_time =&gt; On =&gt; On
apc.user_entries_hint =&gt; 4096 =&gt; 4096
apc.user_ttl =&gt; 0 =&gt; 0
apc.write_lock =&gt; On =&gt; On
		</pre>
		<div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="idp45"></a>5.2.1. 编译安装 APC Cache</h3></div></div></div>
			
			<div class="example"><a id="idp113"></a><p class="title"><strong>例 5.1. php apc cache</strong></p><div class="example-contents">
				
				<p>pecl install</p>
				<pre class="screen">
/usr/local/php/bin/pecl install apc
				</pre>
				<p>php.ini</p>
				<pre class="screen">
				
extension_dir = "/usr/local/php-5.3.3/lib/php/extensions/"
extension = apc.so
				
				</pre>
			</div></div><br class="example-break" />
		</div>
	</div><div xmlns="" id="disqus_thread"></div><script xmlns="">

var disqus_config = function () {
this.page.url = "http://www.netkiller.cn";  // Replace PAGE_URL with your page's canonical URL variable
this.page.identifier = 'netkiller'; // Replace PAGE_IDENTIFIER with your page's unique identifier variable
};

(function() { // DON'T EDIT BELOW THIS LINE
var d = document, s = d.createElement('script');
s.src = '//netkiller.disqus.com/embed.js';
s.setAttribute('data-timestamp', +new Date());
(d.head || d.body).appendChild(s);
})();
</script><noscript xmlns="">Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript><br xmlns="" /><script xmlns="" type="text/javascript" id="clustrmaps" src="//cdn.clustrmaps.com/map_v2.js?u=r5HG&amp;d=9mi5r_kkDC8uxG8HuY3p4-2qgeeVypAK9vMD-2P6BYM"></script><div class="navfooter"><hr /><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="index.html">上一页</a> </td><td width="20%" align="center"><a accesskey="u" href="index.html">上一级</a></td><td width="40%" align="right"> <a accesskey="n" href="gd.html">下一页</a></td></tr><tr><td width="40%" align="left" valign="top">第 5 章 PECL :: The PHP Extension Community Library </td><td width="20%" align="center"><a accesskey="h" href="../index.html">起始页</a></td><td width="40%" align="right" valign="top"> 5.3. php5-gd - GD module for php5</td></tr></table></div><script xmlns="">
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-11694057-1', 'auto');
  ga('send', 'pageview');

</script><script xmlns="" async="async">
var _hmt = _hmt || [];
(function() {
  var hm = document.createElement("script");
  hm.src = "https://hm.baidu.com/hm.js?93967759a51cda79e49bf4e34d0b0f2c";
  var s = document.getElementsByTagName("script")[0]; 
  s.parentNode.insertBefore(hm, s);
})();
</script><script xmlns="" async="async">
(function(){
    var bp = document.createElement('script');
    var curProtocol = window.location.protocol.split(':')[0];
    if (curProtocol === 'https') {
        bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';        
    }
    else {
        bp.src = 'http://push.zhanzhang.baidu.com/push.js';
    }
    var s = document.getElementsByTagName("script")[0];
    s.parentNode.insertBefore(bp, s);
})();
</script><script xmlns="" type="text/javascript" src="/js/q.js" async="async"></script></body></html>