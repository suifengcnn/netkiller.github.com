<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>14.5. SNMP</title><link rel="stylesheet" type="text/css" href="/docbook.css" /><meta name="generator" content="DocBook XSL Stylesheets V1.79.1" /><meta name="keywords" content="&#10;cat,chflags,chio,chmod,cp,csh,date,dd,df,domainname,echo,ed,expr,getfacl,hostname,kenv,kill,link,ln,ls,mkdir,mv,pax,pgrep,pkill,ps,pwait,pwd,rcp,realpath,red,rm,rmail,rmdir,setfacl,sh,sleep,stty,sync,tcsh,test,unlink,uuidgen,,/sbin/:,adjkerntz,atacontrol,atmconfig,badsect,bsdlabel,camcontrol,ccdconfig,clri,comcontrol,conscontrol,ddb,devd,devfs,dhclient,dhclient-script,disklabel,dmesg,dump,dumpfs,dumpon,fastboot,fasthalt,fdisk,ffsinfo,fsck,fsck_4.2bsd,fsck_ffs,fsck_msdosfs,fsck_ufs,fsdb,fsirand,gbde,gcache,gconcat,geli,geom,ggatec,ggated,ggatel,gjournal,glabel,gmirror,gmultipath,gnop,gpart,graid3,growfs,gsched,gshsec,gstripe,gvinum,gvirstor,halt,hastctl,hastd,ifconfig,init,ipf,ipfs,ipfstat,ipftest,ipfw,ipmon,ipnat,ippool,ipresend,iscontrol,kldconfig,kldload,kldstat,kldunload,ldconfig,md5,mdconfig,mdmfs,mknod,mksnap_ffs,mount,mount_cd9660,mount_mfs,mount_msdosfs,mount_newnfs,mount_nfs,mount_ntfs,mount_nullfs,mount_udf,mount_unionfs,natd,newfs,newfs_msdos,nextboot,nfsiod,nologin,nos-tun,pfctl,pflogd,ping,ping6,quotacheck,rcorder,rdump,reboot,recoverdisk,restore,rmd160,route,routed,rrestore,rtquery,rtsol,savecore,setkey,sha1,sha256,shutdown,spppcontrol,swapctl,swapoff,swapon,sysctl,tunefs,umount,zfs,zpool&#10;&#9;&#9;&#9;, &#10;addftinfo,addr2line,afmtodit,alias,apply,apropos,ar,as,asa,at,atq,atrm,awk,b64decode,b64encode,banner,basename,batch,bc,bdes,bg,biff,brandelf,bsdcpio,bsdiff,bsdtar,bspatch,bthost,btsockstat,bunzip2,byacc,bzcat,bzegrep,bzfgrep,bzgrep,bzip2,bzip2recover,bzless,c++,c++filt,c89,c99,cal,calendar,cap_mkdb,catman,cc,cd,chat,checknr,chfn,chgrp,chkey,chpass,chsh,ci,cksum,clear,cmp,co,col,colcrt,colldef,colrm,column,comm,command,compile_et,compress,cpio,cpp,cpuset,crontab,crunchgen,crunchide,crypt,csplit,csup,ctags,ctfconvert,ctfdump,ctfmerge,cu,cut,cvs,cvsbug,dc,dialog,diff,diff3,dig,dirname,du,edit,ee,egrep,elf2aout,elfdump,enigma,env,eqn,ex,expand,false,fc,fetch,fg,fgrep,file,file2c,find,finger,flex,flex++,fmt,fold,from,fstat,fsync,ftp,g++,gate-ftp,gcc,gcore,gcov,gdb,gdbtui,gencat,getconf,getent,getopt,getopts,gnu-ar,gnu-ranlib,gperf,gprof,grep,grn,grodvi,groff,grog,grolbp,grolj4,grops,grotty,groups,gunzip,gzcat,gzexe,gzip,hd,head,hexdump,host,hpftodit,id,ident,indent,indxbib,info,infokey,install,install-info,ipcrm,ipcs,jobs,join,jot,kadmin,kdestroy,kdump,keylogin,keylogout,kgdb,killall,kinit,klist,kpasswd,krb5-config,ksu,ktrace,ktrdump,lam,last,lastcomm,ld,ldd,leave,less,lessecho,lesskey,lesspipe.sh,lex,lex++,limits,lint,lkbib,locale,locate,lock,lockf,logger,login,logins,logname,look,lookbib,lorder,lp,lpq,lpr,lprm,lsvfs,lzcat,lzdec,lzless,lzma,lzmainfo,m4,mail,mailq,mailx,make,makeinfo,makewhatis,man,manpath,merge,mesg,minigzip,ministat,mkdep,mkfifo,mklocale,mkstr,mktemp,mkuzip,mmroff,more,msgs,mt,nawk,nc,ncal,ncplist,ncplogin,ncplogout,neqn,netstat,newaliases,newgrp,newkey,nex,nfsstat,nice,nl,nm,nohup,nroff,nslookup,nsupdate,ntpq,nvi,nview,objcopy,objdump,od,openssl,opieinfo,opiekey,opiepasswd,otp-md4,otp-md5,otp-sha,pagesize,passwd,paste,patch,pathchk,pawd,perl,perl5,perror,pfbtops,pftp,pgrep,pic,pkill,post-grohtml,pr,pre-grohtml,printenv,printf,procstat,psroff,quota,ranlib,rcs,rcsclean,rcsdiff,rcsfreeze,rcsmerge,read,readelf,readlink,ree,refer,renice,reset,rev,revoke,rfcomm_sppd,rlog,rlogin,rpcgen,rpcinfo,rs,rsh,rup,ruptime,rusers,rwall,rwho,scp,script,sdiff,sed,send-pr,sendbug,sftp,sgsmsg,shar,showmount,size,slogin,smbutil,sockstat,soelim,sort,split,sscop,ssh,ssh-add,ssh-agent,ssh-keygen,ssh-keyscan,stat,strings,strip,su,sum,systat,tabs,tail,talk,tar,tbl,tcopy,tee,telnet,texindex,tfmtodit,tftp,time,tip,top,touch,tput,tr,troff,true,truncate,truss,tset,tsort,tty,ul,umask,unalias,uname,uncompress,unexpand,unifdef,unifdefall,uniq,units,unlzma,unvis,unxz,uptime,usbhidaction,usbhidctl,users,uudecode,uuencode,vacation,verify_krb5_conf,vgrind,vi,view,vis,vmstat,w,wait,wall,wc,what,whatis,whereis,which,who,whoami,whois,write,xargs,xstr,xz,xzcat,xzdec,xzless,yacc,yes,ypcat,ypchfn,ypchpass,ypchsh,ypmatch,yppasswd,ypwhich,yyfix,zcat,zcmp,zdiff,zegrep,zfgrep,zforce,zgrep,zinject,zless,zmore,znew,ztest,,/usr/sbin/:,IPXrouted,ac,accton,acpiconf,acpidb,acpidump,adduser,amd,amq,ancontrol,arp,asf,audit,auditd,auditreduce,authpf,bcmfw,boot0cfg,bootparamd,bootpef,bootptest,bsnmpd,bt3cfw,bthidcontrol,bthidd,btpand,btxld,burncd,callbootd,cdcontrol,chkgrp,chkprintcap,chown,chroot,ckdist,clear_locks,config,cpucontrol,crashinfo,cron,ctm,ctm_dequeue,ctm_rmail,ctm_smail,daemon,dconschat,devinfo,digictl,diskinfo,dnssec-dsfromkey,dnssec-keyfromlabel,dnssec-keygen,dnssec-signzone,dtrace,dumpcis,editmap,edquota,extattrctl,faithd,fdcontrol,fdformat,fdread,fdwrite,fifolog_create,fifolog_reader,fifolog_writer,fixmount,flowctl,freebsd-update,fsinfo,ftp-proxy,fwcontrol,gensnmptree,getextattr,getfmac,getpmac,gssd,gstat,hccontrol,hcsecd,hcseriald,hlfsd,hostapd,hostapd_cli,hoststat,i2c,iasl,idprio,ifmcstat,inetd,iostat,ip6addrctl,ipfwpcap,jail,jexec,jls,kbdcontrol,kbdmap,keyserv,kgmon,kldxref,kstash,ktutil,l2control,l2ping,lastlogin,lmcconfig,lockstat,lpc,lpd,lptcontrol,lptest,lsextattr,lwresd,mailstats,mailwrapper,makefs,makemap,manctl,memcontrol,mergemaster,mfiutil,mixer,mk-amd-map,mld6query,mlxcontrol,mount_nwfs,mount_portalfs,mount_smbfs,mountd,moused,mptable,mptutil,mtest,mtree,named,named-checkconf,named-checkzone,named-compilezone,named.reconfig,named.reload,ndis_events,ndiscvt,ndisgen,ndp,newsyslog,nfscbd,nfsd,nfsdumpstate,nfsrevoke,nfsuserd,ngctl,nghook,nologin,nscd,ntp-keygen,ntpd,ntpdate,ntpdc,ntptime,ntptrace,pac,pciconf,periodic,pkg_add,pkg_create,pkg_delete,pkg_info,pkg_updating,pkg_version,pmcannotate,pmccontrol,pmcstat,portsnap,powerd,ppp,pppctl,praliases,praudit,procctl,pstat,purgestat,pw,pwd_mkdb,quot,quotaoff,quotaon,rarpd,repquota,rfcomm_pppd,rip6query,rmextattr,rmt,rmuser,rndc,rndc-confgen,route6d,rpc.lockd,rpc.statd,rpc.umntall,rpc.yppasswdd,rpc.ypupdated,rpc.ypxfrd,rpcbind,rrenumd,rtadvd,rtprio,rtsold,rwhod,sa,sade,sdpcontrol,sdpd,sendmail,service,services_mkdb,setextattr,setfib,setfmac,setfsmac,setpmac,sicontrol,smbmsg,snapinfo,sntp,spkrtest,spray,sshd,swapinfo,sysinstall,syslogd,tcpdchk,tcpdmatch,tcpdrop,tcpdump,timed,timedc,traceroute,traceroute6,trpt,tzsetup,uathload,ugidfw,uhsoctl,usbconfig,vidcontrol,vidfont,vipw,wake,watch,watchdog,watchdogd,wire-test,wlandebug,wpa_cli,wpa_passphrase,wpa_supplicant,yp_mkdb,ypbind,ypinit,yppoll,yppush,ypserv,ypset,zdb,zdump,zic,zzz&#10;&#9;&#9;&#9;, &#10;a2p,autoconf,autoconf-2.62,autoconf-wrapper,autoheader,autoheader-2.62,autom4te,autom4te-2.62,autopoint,autoreconf,autoreconf-2.62,autoscan,autoscan-2.62,autoupdate-2.62,autoupdates,c2ph,cjpeg,config_data,corelist,cpan,cpan2dist,cpanp,cpanp-run-perl,curl,curl-config,cxpm,djpeg,dprofpp,enc2xs,encode_keychange,envsubst,eview,evim,exifautotran,find2perl,fixproc,freetype-config,gettext,gettext.sh,gettextize,gm4,gmake,gview,gvim,gvimdiff,gvimtutor,h2ph,h2xs,help2man,iconv,idle3,idle3-3.1,ifnames,ifnames-2.62,instmodsh,ipf-mod.pl,jpegexiforient,jpegtran,libmcrypt-config,libnetcfg,libpng-config,libpng14-config,libtool,libtoolize,makestrs,mib2c,mib2c-update,msgattrib,msgcat,msgcmp,msgcomm,msgconv,msgen,msgexec,msgfilter,msgfmt,msggrep,msginit,msgmerge,msgunfmt,msguniq,mysql,mysql_config,mysql_fix_privilege_tables,mysql_upgrade,mysqladmin,mysqlbinlog,mysqlbug,mysqlcheck,mysqldump,mysqlimport,mysqlshow,mysqlslap,mysqltest,net-snmp-config,net-snmp-create-v3-user,ngettext,onig-config,pcre-config,pcregrep,pcretest,perl,perl-after-upgrade,perl5,perl5.10.1,perlbug,perldoc,perlivp,perlthanks,php,php-cgi,php-config,phpize,piconv,pkg-config,pl2pm,pod2html,pod2latex,pod2man,pod2text,pod2usage,podchecker,podselect,prove,psed,pstruct,ptar,ptardiff,pydoc3,pydoc3-3.1,python,python-config,python-shared,python-shared-config,python-shared3.1,python-shared3.1-config,python3.1,python3.1-config,rdjpgcom,recode-sr-latin,rgview,rgvim,rpc,rsync,rview,rvim,rzsh,s2p,shasum,snmpbulkget,snmpbulkwalk,snmpcheck,snmpconf,snmpdelta,snmpdf,snmpget,snmpgetnext,snmpinform,snmpnetstat,snmpset,snmpstatus,snmptable,snmptest,snmptranslate,snmptrap,snmpusm,snmpvacm,snmpwalk,spawn-fcgi,splain,sqlite3,sxpm,tclsh8.5,traptoemail,type1afm,vim,vimdiff,vimtutor,wrjpgcom,xgettext,xglyph,xml2-config,xmlcatalog,xmllint,xsubpp,xxd,zsh,zsh-4.3.10,,/usr/local/sbin:,cronolog,cronosplit,lighttpd,lighttpd-angel,lsof,snmpd,snmptrapd&#10;&#9;&#9;&#9;" /><link rel="home" href="index.html" title="Netkiller FreeBSD 手札" /><link rel="up" href="network.html" title="第 14 章 Network Communication" /><link rel="prev" href="ntpd.html" title="14.4. NTPD" /><link rel="next" href="network.manager.html" title="14.6. Network Manager" /></head><body><a xmlns="" href="//www.netkiller.cn/">Home</a> |
		<a xmlns="" href="//netkiller.github.io/">简体中文</a> |
	    <a xmlns="" href="http://netkiller.sourceforge.net/">繁体中文</a> |
	    <a xmlns="" href="/journal/index.html">杂文</a> |
	    <a xmlns="" href="//www.netkiller.cn/home/donations.html">打赏(Donations)</a> |
	    <a xmlns="" href="http://netkiller-github-com.iteye.com/">ITEYE 博客</a> |
	    <a xmlns="" href="http://my.oschina.net/neochen/">OSChina 博客</a> |
	    <a xmlns="" href="https://www.facebook.com/bg7nyt">Facebook</a> |
	    <a xmlns="" href="http://cn.linkedin.com/in/netkiller/">Linkedin</a> |
	    <a xmlns="" href="https://zhuanlan.zhihu.com/netkiller">知乎专栏</a> |
	    <a xmlns="" href="/search.html">Search</a> |
		<a xmlns="" href="mailto:netkiller@msn.com">Email</a><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">14.5. SNMP</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="ntpd.html">上一页</a> </td><th width="60%" align="center">第 14 章 Network Communication</th><td width="20%" align="right"> <a accesskey="n" href="network.manager.html">下一页</a></td></tr></table><hr /></div><table xmlns=""><tr><td><iframe src="//ghbtns.com/github-btn.html?user=netkiller&amp;repo=netkiller.github.io&amp;type=watch&amp;count=true&amp;size=large" height="30" width="170" frameborder="0" scrolling="0" style="width:170px; height: 30px;" allowTransparency="true"></iframe></td><td><iframe src="//ghbtns.com/github-btn.html?user=netkiller&amp;repo=netkiller.github.io&amp;type=fork&amp;count=true&amp;size=large" height="30" width="170" frameborder="0" scrolling="0" style="width:170px; height: 30px;" allowTransparency="true"></iframe></td><td><iframe src="//ghbtns.com/github-btn.html?user=netkiller&amp;type=follow&amp;count=true&amp;size=large" height="30" width="240" frameborder="0" scrolling="0" style="width:240px; height: 30px;" allowTransparency="true"></iframe></td></tr></table><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="snmp"></a>14.5. SNMP</h2></div></div></div>
	
	<pre class="screen">
cd /usr/ports/net-mgmt/net-snmp
make install
	</pre>
	<pre class="screen">
pkg_add -r net-snmp

cp /usr/local/share/snmp/snmpd.conf.example /usr/local/etc/snmp/snmpd.conf

vim /etc/rc.conf

snmpd_enable="YES"
snmpd_flags="-a"
snmpd_conffile="/usr/local/etc/snmp/snmpd.conf"
snmptrapd_enable="YES"
snmptrapd_flags="-a -p /var/run/snmptrapd.pid"

	</pre>

	<pre class="screen">
	

###############################################################################
#
# snmpd.conf:
#   An example configuration file for configuring the ucd-snmp snmpd agent.
#
###############################################################################
#
# This file is intended to only be as a starting point.  Many more
# configuration directives exist than are mentioned in this file.  For
# full details, see the snmpd.conf(5) manual page.
#
# All lines beginning with a '#' are comments and are intended for you
# to read.  All other lines are configuration commands for the agent.

###############################################################################
# Access Control
###############################################################################

# As shipped, the snmpd demon will only respond to queries on the
# system mib group until this file is replaced or modified for
# security purposes.  Examples are shown below about how to increase the
# level of access.

# By far, the most common question I get about the agent is "why won't
# it work?", when really it should be "how do I configure the agent to
# allow me to access it?"
#
# By default, the agent responds to the "public" community for read
# only access, if run out of the box without any configuration file in
# place.  The following examples show you other ways of configuring
# the agent so that you can change the community names, and give
# yourself write access to the mib tree as well.
#
# For more information, read the FAQ as well as the snmpd.conf(5)
# manual page.

####
# First, map the community name "public" into a "security name"

#       sec.name  source          community
com2sec notConfigUser  default       public

####
# Second, map the security name into a group name:

#       groupName      securityModel securityName
group   notConfigGroup v1           notConfigUser
group   notConfigGroup v2c           notConfigUser

####
# Third, create a view for us to let the group have rights to:

# Make at least  snmpwalk -v 1 localhost -c public system fast again.
#       name           incl/excl     subtree         mask(optional)
view    systemview    included   .1.3.6.1.2.1.1
view    systemview    included   .1.3.6.1.2.1.25.1.1

####
# Finally, grant the group read-only access to the systemview view.

#       group          context sec.model sec.level prefix read   write  notif
#access  notConfigGroup ""      any       noauth    exact  systemview none none
access  notConfigGroup ""      any       noauth    exact  all none none

# -----------------------------------------------------------------------------

# Here is a commented out example configuration that allows less
# restrictive access.

# YOU SHOULD CHANGE THE "COMMUNITY" TOKEN BELOW TO A NEW KEYWORD ONLY
# KNOWN AT YOUR SITE.  YOU *MUST* CHANGE THE NETWORK TOKEN BELOW TO
# SOMETHING REFLECTING YOUR LOCAL NETWORK ADDRESS SPACE.

##       sec.name  source          community
#com2sec local     localhost       COMMUNITY
#com2sec mynetwork NETWORK/24      COMMUNITY

##     group.name sec.model  sec.name
#group MyRWGroup  any        local
#group MyROGroup  any        mynetwork
#
#group MyRWGroup  any        otherv3user
#...

##           incl/excl subtree                          mask
view all    included  .1                               80

## -or just the mib2 tree-

#view mib2   included  .iso.org.dod.internet.mgmt.mib-2 fc


##                context sec.model sec.level prefix read   write  notif
#access MyROGroup ""      any       noauth    0      all    none   none
#access MyRWGroup ""      any       noauth    0      all    all    all


###############################################################################
# Sample configuration to make net-snmpd RFC 1213.
# Unfortunately v1 and v2c don't allow any user based authentification, so
# opening up the default config is not an option from a security point.
#
# WARNING: If you uncomment the following lines you allow write access to your
# snmpd daemon from any source! To avoid this use different names for your
# community or split out the write access to a different community and
# restrict it to your local network.
# Also remember to comment the syslocation and syscontact parameters later as
# otherwise they are still read only (see FAQ for net-snmp).
#

# First, map the community name "public" into a "security name"
#       sec.name        source          community
#com2sec notConfigUser   default         public

# Second, map the security name into a group name:
#       groupName       securityModel   securityName
#group   notConfigGroup  v1              notConfigUser
#group   notConfigGroup  v2c             notConfigUser

# Third, create a view for us to let the group have rights to:
# Open up the whole tree for ro, make the RFC 1213 required ones rw.
#       name            incl/excl       subtree mask(optional)
#view    roview          included        .1
#view    rwview          included        system.sysContact
#view    rwview          included        system.sysName
#view    rwview          included        system.sysLocation
#view    rwview          included        interfaces.ifTable.ifEntry.ifAdminStatus
#view    rwview          included        at.atTable.atEntry.atPhysAddress
#view    rwview          included        at.atTable.atEntry.atNetAddress
#view    rwview          included        ip.ipForwarding
#view    rwview          included        ip.ipDefaultTTL
#view    rwview          included        ip.ipRouteTable.ipRouteEntry.ipRouteDest
#view    rwview          included        ip.ipRouteTable.ipRouteEntry.ipRouteIfIndex
#view    rwview          included        ip.ipRouteTable.ipRouteEntry.ipRouteMetric1
#view    rwview          included        ip.ipRouteTable.ipRouteEntry.ipRouteMetric2
#view    rwview          included        ip.ipRouteTable.ipRouteEntry.ipRouteMetric3
#view    rwview          included        ip.ipRouteTable.ipRouteEntry.ipRouteMetric4
#view    rwview          included        ip.ipRouteTable.ipRouteEntry.ipRouteType
#view    rwview          included        ip.ipRouteTable.ipRouteEntry.ipRouteAge
#view    rwview          included        ip.ipRouteTable.ipRouteEntry.ipRouteMask
#view    rwview          included        ip.ipRouteTable.ipRouteEntry.ipRouteMetric5
#view    rwview          included        ip.ipNetToMediaTable.ipNetToMediaEntry.ipNetToMediaIfIndex
#view    rwview          included        ip.ipNetToMediaTable.ipNetToMediaEntry.ipNetToMediaPhysAddress
#view    rwview          included        ip.ipNetToMediaTable.ipNetToMediaEntry.ipNetToMediaNetAddress
#view    rwview          included        ip.ipNetToMediaTable.ipNetToMediaEntry.ipNetToMediaType
#view    rwview          included        tcp.tcpConnTable.tcpConnEntry.tcpConnState
#view    rwview          included        egp.egpNeighTable.egpNeighEntry.egpNeighEventTrigger
#view    rwview          included        snmp.snmpEnableAuthenTraps

# Finally, grant the group read-only access to the systemview view.
#       group          context sec.model sec.level prefix read   write  notif
#access  notConfigGroup ""      any       noauth    exact  roview rwview none



###############################################################################
# System contact information
#

# It is also possible to set the sysContact and sysLocation system
# variables through the snmpd.conf file:

syslocation Unknown (edit /etc/snmp/snmpd.conf)
syscontact Root &lt;root@localhost&gt; (configure /etc/snmp/snmp.local.conf)

# Example output of snmpwalk:
#   % snmpwalk -v 1 localhost -c public system
#   system.sysDescr.0 = "SunOS name sun4c"
#   system.sysObjectID.0 = OID: enterprises.ucdavis.ucdSnmpAgent.sunos4
#   system.sysUpTime.0 = Timeticks: (595637548) 68 days, 22:32:55
#   system.sysContact.0 = "Me &lt;me@somewhere.org&gt;"
#   system.sysName.0 = "name"
#   system.sysLocation.0 = "Right here, right now."
#   system.sysServices.0 = 72


# -----------------------------------------------------------------------------


###############################################################################
# Process checks.
#
#  The following are examples of how to use the agent to check for
#  processes running on the host.  The syntax looks something like:
#
#  proc NAME [MAX=0] [MIN=0]
#
#  NAME:  the name of the process to check for.  It must match
#         exactly (ie, http will not find httpd processes).
#  MAX:   the maximum number allowed to be running.  Defaults to 0.
#  MIN:   the minimum number to be running.  Defaults to 0.

#
#  Examples (commented out by default):
#

#  Make sure mountd is running
#proc mountd

#  Make sure there are no more than 4 ntalkds running, but 0 is ok too.
#proc ntalkd 4

#  Make sure at least one sendmail, but less than or equal to 10 are running.
#proc sendmail 10 1

#  A snmpwalk of the process mib tree would look something like this:
#
# % snmpwalk -v 1 localhost -c public .1.3.6.1.4.1.2021.2
# enterprises.ucdavis.procTable.prEntry.prIndex.1 = 1
# enterprises.ucdavis.procTable.prEntry.prIndex.2 = 2
# enterprises.ucdavis.procTable.prEntry.prIndex.3 = 3
# enterprises.ucdavis.procTable.prEntry.prNames.1 = "mountd"
# enterprises.ucdavis.procTable.prEntry.prNames.2 = "ntalkd"
# enterprises.ucdavis.procTable.prEntry.prNames.3 = "sendmail"
# enterprises.ucdavis.procTable.prEntry.prMin.1 = 0
# enterprises.ucdavis.procTable.prEntry.prMin.2 = 0
# enterprises.ucdavis.procTable.prEntry.prMin.3 = 1
# enterprises.ucdavis.procTable.prEntry.prMax.1 = 0
# enterprises.ucdavis.procTable.prEntry.prMax.2 = 4
# enterprises.ucdavis.procTable.prEntry.prMax.3 = 10
# enterprises.ucdavis.procTable.prEntry.prCount.1 = 0
# enterprises.ucdavis.procTable.prEntry.prCount.2 = 0
# enterprises.ucdavis.procTable.prEntry.prCount.3 = 1
# enterprises.ucdavis.procTable.prEntry.prErrorFlag.1 = 1
# enterprises.ucdavis.procTable.prEntry.prErrorFlag.2 = 0
# enterprises.ucdavis.procTable.prEntry.prErrorFlag.3 = 0
# enterprises.ucdavis.procTable.prEntry.prErrMessage.1 = "No mountd process running."
# enterprises.ucdavis.procTable.prEntry.prErrMessage.2 = ""
# enterprises.ucdavis.procTable.prEntry.prErrMessage.3 = ""
# enterprises.ucdavis.procTable.prEntry.prErrFix.1 = 0
# enterprises.ucdavis.procTable.prEntry.prErrFix.2 = 0
# enterprises.ucdavis.procTable.prEntry.prErrFix.3 = 0
#
#  Note that the errorFlag for mountd is set to 1 because one is not
#  running (in this case an rpc.mountd is, but thats not good enough),
#  and the ErrMessage tells you what's wrong.  The configuration
#  imposed in the snmpd.conf file is also shown.
#
#  Special Case:  When the min and max numbers are both 0, it assumes
#  you want a max of infinity and a min of 1.
#


# -----------------------------------------------------------------------------


###############################################################################
# Executables/scripts
#

#
#  You can also have programs run by the agent that return a single
#  line of output and an exit code.  Here are two examples.
#
#  exec NAME PROGRAM [ARGS ...]
#
#  NAME:     A generic name.
#  PROGRAM:  The program to run.  Include the path!
#  ARGS:     optional arguments to be passed to the program

# a simple hello world

#exec echotest /bin/echo hello world

# Run a shell script containing:
#
# #!/bin/sh
# echo hello world
# echo hi there
# exit 35
#
# Note:  this has been specifically commented out to prevent
# accidental security holes due to someone else on your system writing
# a /tmp/shtest before you do.  Uncomment to use it.
#
#exec shelltest /bin/sh /tmp/shtest

# Then,
# % snmpwalk -v 1 localhost -c public .1.3.6.1.4.1.2021.8
# enterprises.ucdavis.extTable.extEntry.extIndex.1 = 1
# enterprises.ucdavis.extTable.extEntry.extIndex.2 = 2
# enterprises.ucdavis.extTable.extEntry.extNames.1 = "echotest"
# enterprises.ucdavis.extTable.extEntry.extNames.2 = "shelltest"
# enterprises.ucdavis.extTable.extEntry.extCommand.1 = "/bin/echo hello world"
# enterprises.ucdavis.extTable.extEntry.extCommand.2 = "/bin/sh /tmp/shtest"
# enterprises.ucdavis.extTable.extEntry.extResult.1 = 0
# enterprises.ucdavis.extTable.extEntry.extResult.2 = 35
# enterprises.ucdavis.extTable.extEntry.extOutput.1 = "hello world."
# enterprises.ucdavis.extTable.extEntry.extOutput.2 = "hello world."
# enterprises.ucdavis.extTable.extEntry.extErrFix.1 = 0
# enterprises.ucdavis.extTable.extEntry.extErrFix.2 = 0

# Note that the second line of the /tmp/shtest shell script is cut
# off.  Also note that the exit status of 35 was returned.

# -----------------------------------------------------------------------------


###############################################################################
# disk checks
#

# The agent can check the amount of available disk space, and make
# sure it is above a set limit.

# disk PATH [MIN=100000]
#
# PATH:  mount path to the disk in question.
# MIN:   Disks with space below this value will have the Mib's errorFlag set.
#        Default value = 100000.

# Check the / partition and make sure it contains at least 10 megs.

#disk / 10000

# % snmpwalk -v 1 localhost -c public .1.3.6.1.4.1.2021.9
# enterprises.ucdavis.diskTable.dskEntry.diskIndex.1 = 0
# enterprises.ucdavis.diskTable.dskEntry.diskPath.1 = "/" Hex: 2F
# enterprises.ucdavis.diskTable.dskEntry.diskDevice.1 = "/dev/dsk/c201d6s0"
# enterprises.ucdavis.diskTable.dskEntry.diskMinimum.1 = 10000
# enterprises.ucdavis.diskTable.dskEntry.diskTotal.1 = 837130
# enterprises.ucdavis.diskTable.dskEntry.diskAvail.1 = 316325
# enterprises.ucdavis.diskTable.dskEntry.diskUsed.1 = 437092
# enterprises.ucdavis.diskTable.dskEntry.diskPercent.1 = 58
# enterprises.ucdavis.diskTable.dskEntry.diskErrorFlag.1 = 0
# enterprises.ucdavis.diskTable.dskEntry.diskErrorMsg.1 = ""

# -----------------------------------------------------------------------------


###############################################################################
# load average checks
#

# load [1MAX=12.0] [5MAX=12.0] [15MAX=12.0]
#
# 1MAX:   If the 1 minute load average is above this limit at query
#         time, the errorFlag will be set.
# 5MAX:   Similar, but for 5 min average.
# 15MAX:  Similar, but for 15 min average.

# Check for loads:
#load 12 14 14

# % snmpwalk -v 1 localhost -c public .1.3.6.1.4.1.2021.10
# enterprises.ucdavis.loadTable.laEntry.loadaveIndex.1 = 1
# enterprises.ucdavis.loadTable.laEntry.loadaveIndex.2 = 2
# enterprises.ucdavis.loadTable.laEntry.loadaveIndex.3 = 3
# enterprises.ucdavis.loadTable.laEntry.loadaveNames.1 = "Load-1"
# enterprises.ucdavis.loadTable.laEntry.loadaveNames.2 = "Load-5"
# enterprises.ucdavis.loadTable.laEntry.loadaveNames.3 = "Load-15"
# enterprises.ucdavis.loadTable.laEntry.loadaveLoad.1 = "0.49" Hex: 30 2E 34 39
# enterprises.ucdavis.loadTable.laEntry.loadaveLoad.2 = "0.31" Hex: 30 2E 33 31
# enterprises.ucdavis.loadTable.laEntry.loadaveLoad.3 = "0.26" Hex: 30 2E 32 36
# enterprises.ucdavis.loadTable.laEntry.loadaveConfig.1 = "12.00"
# enterprises.ucdavis.loadTable.laEntry.loadaveConfig.2 = "14.00"
# enterprises.ucdavis.loadTable.laEntry.loadaveConfig.3 = "14.00"
# enterprises.ucdavis.loadTable.laEntry.loadaveErrorFlag.1 = 0
# enterprises.ucdavis.loadTable.laEntry.loadaveErrorFlag.2 = 0
# enterprises.ucdavis.loadTable.laEntry.loadaveErrorFlag.3 = 0
# enterprises.ucdavis.loadTable.laEntry.loadaveErrMessage.1 = ""
# enterprises.ucdavis.loadTable.laEntry.loadaveErrMessage.2 = ""
# enterprises.ucdavis.loadTable.laEntry.loadaveErrMessage.3 = ""

# -----------------------------------------------------------------------------


###############################################################################
# Extensible sections.
#

# This alleviates the multiple line output problem found in the
# previous executable mib by placing each mib in its own mib table:

# Run a shell script containing:
#
# #!/bin/sh
# echo hello world
# echo hi there
# exit 35
#
# Note:  this has been specifically commented out to prevent
# accidental security holes due to someone else on your system writing
# a /tmp/shtest before you do.  Uncomment to use it.
#
# exec .1.3.6.1.4.1.2021.50 shelltest /bin/sh /tmp/shtest

# % snmpwalk -v 1 localhost -c public .1.3.6.1.4.1.2021.50
# enterprises.ucdavis.50.1.1 = 1
# enterprises.ucdavis.50.2.1 = "shelltest"
# enterprises.ucdavis.50.3.1 = "/bin/sh /tmp/shtest"
# enterprises.ucdavis.50.100.1 = 35
# enterprises.ucdavis.50.101.1 = "hello world."
# enterprises.ucdavis.50.101.2 = "hi there."
# enterprises.ucdavis.50.102.1 = 0

# Now the Output has grown to two lines, and we can see the 'hi
# there.' output as the second line from our shell script.
#
# Note that you must alter the mib.txt file to be correct if you want
# the .50.* outputs above to change to reasonable text descriptions.

# Other ideas:
#
# exec .1.3.6.1.4.1.2021.51 ps /bin/ps
# exec .1.3.6.1.4.1.2021.52 top /usr/local/bin/top
# exec .1.3.6.1.4.1.2021.53 mailq /usr/bin/mailq

# -----------------------------------------------------------------------------


###############################################################################
# Pass through control.
#

# Usage:
#   pass MIBOID EXEC-COMMAND
#
# This will pass total control of the mib underneath the MIBOID
# portion of the mib to the EXEC-COMMAND.
#
# Note:  You'll have to change the path of the passtest script to your
# source directory or install it in the given location.
#
# Example:  (see the script for details)
#           (commented out here since it requires that you place the
#           script in the right location. (its not installed by default))

# pass .1.3.6.1.4.1.2021.255 /bin/sh /usr/local/local/passtest

# % snmpwalk -v 1 localhost -c public .1.3.6.1.4.1.2021.255
# enterprises.ucdavis.255.1 = "life the universe and everything"
# enterprises.ucdavis.255.2.1 = 42
# enterprises.ucdavis.255.2.2 = OID: 42.42.42
# enterprises.ucdavis.255.3 = Timeticks: (363136200) 42 days, 0:42:42
# enterprises.ucdavis.255.4 = IpAddress: 127.0.0.1
# enterprises.ucdavis.255.5 = 42
# enterprises.ucdavis.255.6 = Gauge: 42
#
# % snmpget -v 1 localhost public .1.3.6.1.4.1.2021.255.5
# enterprises.ucdavis.255.5 = 42
#
# % snmpset -v 1 localhost public .1.3.6.1.4.1.2021.255.1 s "New string"
# enterprises.ucdavis.255.1 = "New string"
#

# For specific usage information, see the man/snmpd.conf.5 manual page
# as well as the local/passtest script used in the above example.

# Added for support of bcm5820 cards.
pass .1.3.6.1.4.1.4413.4.1 /usr/bin/ucd5820stat

###############################################################################
# Further Information
#
#  See the snmpd.conf manual page, and the output of "snmpd -H".

	

	</pre>
</div><div xmlns="" id="disqus_thread"></div><script xmlns="">

var disqus_config = function () {
this.page.url = "http://www.netkiller.cn";  // Replace PAGE_URL with your page's canonical URL variable
this.page.identifier = 'netkiller'; // Replace PAGE_IDENTIFIER with your page's unique identifier variable
};

(function() { // DON'T EDIT BELOW THIS LINE
var d = document, s = d.createElement('script');
s.src = '//netkiller.disqus.com/embed.js';
s.setAttribute('data-timestamp', +new Date());
(d.head || d.body).appendChild(s);
})();
</script><noscript xmlns="">Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript><br xmlns="" /><script xmlns="" type="text/javascript" id="clustrmaps" src="//cdn.clustrmaps.com/map_v2.js?u=r5HG&amp;d=9mi5r_kkDC8uxG8HuY3p4-2qgeeVypAK9vMD-2P6BYM"></script><div class="navfooter"><hr /><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="ntpd.html">上一页</a> </td><td width="20%" align="center"><a accesskey="u" href="network.html">上一级</a></td><td width="40%" align="right"> <a accesskey="n" href="network.manager.html">下一页</a></td></tr><tr><td width="40%" align="left" valign="top">14.4. NTPD </td><td width="20%" align="center"><a accesskey="h" href="index.html">起始页</a></td><td width="40%" align="right" valign="top"> 14.6. Network Manager</td></tr></table></div><script xmlns="">
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-11694057-1', 'auto');
  ga('send', 'pageview');

</script><script xmlns="" async="async">
var _hmt = _hmt || [];
(function() {
  var hm = document.createElement("script");
  hm.src = "https://hm.baidu.com/hm.js?93967759a51cda79e49bf4e34d0b0f2c";
  var s = document.getElementsByTagName("script")[0]; 
  s.parentNode.insertBefore(hm, s);
})();
</script><script xmlns="" async="async">
(function(){
    var bp = document.createElement('script');
    var curProtocol = window.location.protocol.split(':')[0];
    if (curProtocol === 'https') {
        bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';        
    }
    else {
        bp.src = 'http://push.zhanzhang.baidu.com/push.js';
    }
    var s = document.getElementsByTagName("script")[0];
    s.parentNode.insertBefore(bp, s);
})();
</script><script xmlns="" type="text/javascript" src="/js/q.js" async="async"></script></body></html>